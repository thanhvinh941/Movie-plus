<nz-card *ngIf="roomInfo$ != null">
  <nz-descriptions
    nzTitle="Room Info"
    [nzExtra]="extraTpl"
    nzBordered
    [nzColumn]="24"
  >
    <nz-descriptions-item nzTitle="Room Name" [nzSpan]="6">
      {{ roomInfo$["roomName"] }}
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="RegistTime" [nzSpan]="6">
      {{ roomInfo$["registTime"] }}
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="UpdateTime" [nzSpan]="6">
      {{ roomInfo$["updateTime"] }}
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="UpdateUser" [nzSpan]="6">
      {{ roomInfo$["updateUser"] }}
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Show Time" [nzSpan]="6">
      <div nz-row [nzGutter]="[16, 24]">
        <ng-container *ngFor="let item of roomInfo$['showTimes']">
          <div nz-col class="gutter-row" [nzSpan]="12"></div>
        </ng-container>
      </div>
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Room Seats" [nzSpan]="24">
      <div
        nz-row
        *ngFor="let roomSeat of roomInfo$['roomSeats'] | keyvalue"
        nzJustify="center"
        [nzGutter]="[8, 8]"
      >
        <ng-container
          *ngFor="
            let data of $any(roomSeat.value);
            first as isFirst;
            index as i
          "
        >
          <room-seat-master [style] = "{'max-width' : 'none'}"
            nz-col
            [nzSpan]="data['seatMaster']['seatSize']"
            [form]="
              getRoomSeatStatus(data['seatMaster']['seatRow']!, data['seatMaster']['seatColume']!)!
            "
            [seatColunm]="data['seatMaster']['seatColume']!"
            [seatRow]="data['seatMaster']['seatRow']!"
            [isDisplayOption]="false"
            [stylesObj]="{ 'min-width': '80px' }"
          >
          </room-seat-master>
        </ng-container>
      </div>
    </nz-descriptions-item>
  </nz-descriptions>
</nz-card>
<ng-template #extraTpl>
  <nz-space>
    <button *nzSpaceItem nz-button nzType="primary" (click)="addShowTime()">
      Add ShowTime
    </button>
    <button *nzSpaceItem nz-button nzType="primary" (click)="showModal()">
      Setting seat
    </button>
  </nz-space>
</ng-template>
<nz-modal
  [(nzVisible)]="isVisible"
  nzTitle="Modal"
  nzOkText="Ok"
  nzCancelText="Cancel"
  (nzOnOk)="handleOk()"
  (nzOnCancel)="handleCancel()"
  nzWidth="1200"
>
  <ng-container *nzModalContent>
    <nz-spin [nzSpinning]="isSpinning">
      <form [formGroup]="roomSeatForm">
        <div nz-row [nzGutter]="[16, 24]">
          <ng-container
            *ngFor="
              let seat of roomSeatForm.controls.seatMaster.controls;
              let i = index
            "
            [formGroup]="seat"
          >
            <div nz-col class="gutter-row" [nzSpan]="1 + getSeatSize(i)!">
              <room-seat-master
                [form]="seat"
                [seatColunm]="getSeatColumn(i)!"
                [seatRow]="getSeatRow(i)!"
                [isDisplayOption]="true"
                [stylesObj]="{ height: '100px' }"
                [seatGradleList$]="seatGradleList$"
              />
              <!-- <div
                class="seat-box"
                [class.seat-checked]="getSeatEnable(i)"
                [style]="{ height: '100px' }"
              >
                <label nz-checkbox formControlName="seatEnable">
                  {{ getSeatColumn(i) }}{{ getSeatRow(i) | toAlphabet }}
                </label>
              </div>
              <nz-input-number
                formControlName="seatSize"
                [nzMin]="1"
                [nzMax]="2"
                [nzStep]="1"
                [nzSize]="'small'"
                [style]="{ width: '100%' }"
              />
              <nz-select
                [nzShowSearch]="true"
                [style.width]="'100%'"
                id="seatGradle"
                [nzPlaceHolder]="'Choose Seat Gradle'"
                formControlName="seatGradle"
                [nzNotFoundContent]="'Seat Gradle not found'"
              >
                <nz-option
                  *ngFor="let item of seatGradleList$"
                  [nzLabel]="item.displayName"
                  [nzValue]="item.id"
                >
                </nz-option>
              </nz-select> -->
            </div>
          </ng-container>
        </div>
      </form>
    </nz-spin>
  </ng-container>
</nz-modal>
